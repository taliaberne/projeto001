<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-item>
      <a (click)="back()"><ion-icon name="arrow-back-outline"></ion-icon>
      </a>
      <ion-title class="title">Detalhes</ion-title>
    </ion-item>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" *ngIf="book">
  <ion-card>
    <ion-card-header>
      <ion-card-title>{{ book.volumeInfo.title }}</ion-card-title>
      <ion-card-subtitle>{{ book.volumeInfo.authors?.join(', ') }}</ion-card-subtitle>
    </ion-card-header>
    <ion-card-content>

      <ion-row class="book">
        <img class="cover" [src]="book.volumeInfo.imageLinks?.thumbnail" alt="Book Cover" />
      </ion-row>

      <ion-row class="book">
        <app-star-rating class="stars"
        [rating]="bookRating"
        [readonly]="false"
        (ratingChanged)="onRatingChanged($event)">
        </app-star-rating>
      </ion-row>

      <p class="synopsis">{{ book.volumeInfo.description }}</p>

      <ion-row class="align">

          <a *ngIf="book.volumeInfo.previewLink" [href]="book.volumeInfo.previewLink" target="_blank" class="button">
            Ver prévia
          </a>

          <a *ngIf="!isInLibrary && book.volumeInfo.previewLink" (click)="addToLibrary()" class="button">
            Adicionar a biblioteca
          </a>

          <a *ngIf="isInLibrary && book.volumeInfo.previewLink" disabled class="buttondisabled" >
            Já está na biblioteca
          </a>


      </ion-row>




    </ion-card-content>
  </ion-card>
</ion-content>
